# Data Model: IronGuard Mercs

**Scope**: Core Game Domain

## Core Entities

### 1. RunConfig
The "DNA" of a specific game session.
- **Properties**:
  - `Seed`: number (Deterministic source)
  - `Difficulty`: number (Scalar for enemy stats)
  - `Biome`: string (e.g., "Industrial", "Ruins")
  - `Squad`: List<UnitId> (Players entering the run)

### 2. MatchState
The runtime state of the active game loop.
- **Properties**:
  - `Phase`: Enum (Lobby, Generating, Combat, Extraction, End)
  - `StartTime`: timestamp
  - `Objectives`: List<ObjectiveStatus>
  - `LootPool`: List<Item> (Accumulated rewards)

### 3. DungeonGraph (Pure Logic)
The abstract layout generated by the algorithm.
- **Properties**:
  - `Nodes`: Map<NodeId, RoomNode>
  - `Edges`: List<Connection>
  - `Metadata`: Dictionary (SpawnPoints, EnemySpots)

### 4. RoomNode
A single logical room in the graph.
- **Properties**:
  - `Position`: Vector2 (Grid coordinates)
  - `TileId`: string (Asset ID reference)
  - `Rotation`: number (0, 90, 180, 270)
  - `Tags`: List<string>

## Relationships

- **MatchService** holds the **MatchState**.
- **MatchState** references the active **DungeonGraph**.
- **DungeonGenerator** (Pure) produces **DungeonGraph** from **RunConfig**.
- **DungeonService** (Impure) reads **DungeonGraph** to spawn **Tiles**.
